{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./AppNavbar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReleaseList=/*#__PURE__*/function(_Component){_inherits(ReleaseList,_Component);var _super=_createSuper(ReleaseList);function ReleaseList(props){var _this;_classCallCheck(this,ReleaseList);_this=_super.call(this,props);_this.state={releases:[]};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(ReleaseList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/releases').then(function(response){return response.json();}).then(function(data){return _this2.setState({releases:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var _this3=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/releases/\".concat(id),{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var updateReleases=_toConsumableArray(_this3.state.releases).filter(function(i){return i.id!==id;});_this3.setState({releases:updateReleases});});case 2:case\"end\":return _context.stop();}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,releases=_this$state.releases,isLoading=_this$state.isLoading;if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}var releaseList=releases.map(function(release){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{whiteSpace:'nowrap'},children:release.name}),/*#__PURE__*/_jsx(\"td\",{children:release.description}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/releases/\"+release.id,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this4.remove(release.id);},children:\"Delete\"})]})})]},release.id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/releases/new\",children:\"Add new release\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Releases\"}),/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{width:\"40%\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:releaseList})]})]})]});}}]);return ReleaseList;}(Component);export default ReleaseList;","map":{"version":3,"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","jsx","_jsx","jsxs","_jsxs","ReleaseList","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","releases","remove","bind","_assertThisInitialized","_createClass","key","value","componentDidMount","_this2","fetch","then","response","json","data","setState","_remove","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","_this3","wrap","_callee$","_context","prev","next","concat","method","headers","updateReleases","_toConsumableArray","filter","i","stop","_x","apply","arguments","render","_this4","_this$state","isLoading","children","releaseList","map","release","style","whiteSpace","name","description","size","color","tag","to","onClick","fluid","className","width"],"sources":["/Users/bogdanzdravkovic/Documents/practice/release-tracker-app/releasetracking/frontend/src/ReleaseList.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\nimport AppNavbar from './AppNavbar';\nimport { Link } from 'react-router-dom';\n\nclass ReleaseList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {releases: []};\n        this.remove = this.remove.bind(this);\n    }\n\n    componentDidMount() {\n        fetch('/releases')\n            .then(response => response.json())\n            .then(data => this.setState({releases: data}));\n    }\n\n    async remove(id) {\n        await fetch(`/releases/${id}`, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(() => {\n            let updateReleases = [...this.state.releases].filter(i => i.id !== id);\n            this.setState({releases: updateReleases});\n        });\n    }\n\n    render() {\n        const {releases, isLoading} = this.state;\n\n        if (isLoading) {\n            return <p>Loading...</p>;\n        }\n\n        const releaseList = releases.map(release => {\n            return <tr key={release.id}>\n                <td style={{whiteSpace: 'nowrap'}}>{release.name}</td>\n                <td>{release.description}</td>\n                <td>\n                    <ButtonGroup>\n                        <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/releases/\" + release.id}>Edit</Button>\n                        <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(release.id)}>Delete</Button>\n                    </ButtonGroup>\n                </td>\n            </tr>\n        });\n\n        return (\n            <div>\n                <AppNavbar/>\n                <Container fluid>\n                    <div className=\"float-right\">\n                        <Button color=\"success\" tag={Link} to=\"/releases/new\">Add new release</Button>\n                    </div>\n                    <h3>Releases</h3>\n                    <Table className=\"mt-4\">\n                        <thead>\n                        <tr>\n                            <th width=\"30%\">Name</th>\n                            <th width=\"30%\">Description</th>\n                            <th width=\"40%\">Actions</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {releaseList}\n                        </tbody>\n                    </Table>\n                </Container>\n            </div>\n        );\n    }\n}\nexport default ReleaseList;"],"mappings":"g4CAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,MAAM,CAAEC,WAAW,CAAEC,SAAS,CAAEC,KAAK,KAAQ,YAAY,CAClE,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAElC,CAAAC,WAAW,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,WAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,WAAA,EAEb,SAAAA,YAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,WAAA,EACfM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EACXC,KAAA,CAAKG,KAAK,CAAG,CAACC,QAAQ,CAAE,EAAE,CAAC,CAC3BJ,KAAA,CAAKK,MAAM,CAAGL,KAAA,CAAKK,MAAM,CAACC,IAAI,CAAAC,sBAAA,CAAAP,KAAA,EAAM,CAAC,OAAAA,KAAA,CACzC,CAACQ,YAAA,CAAAd,WAAA,GAAAe,GAAA,qBAAAC,KAAA,CAED,SAAAC,kBAAA,CAAoB,KAAAC,MAAA,MAChBC,KAAK,CAAC,WAAW,CAAC,CACbC,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,QAAI,CAAAL,MAAI,CAACM,QAAQ,CAAC,CAACd,QAAQ,CAAEa,IAAI,CAAC,CAAC,GAAC,CACtD,CAAC,GAAAR,GAAA,UAAAC,KAAA,gBAAAS,OAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAC,QAAaC,EAAE,MAAAC,MAAA,aAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACL,CAAAjB,KAAK,cAAAkB,MAAA,CAAcP,EAAE,EAAI,CAC3BQ,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAACnB,IAAI,CAAC,UAAM,CACV,GAAI,CAAAoB,cAAc,CAAGC,kBAAA,CAAIV,MAAI,CAACtB,KAAK,CAACC,QAAQ,EAAEgC,MAAM,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACb,EAAE,GAAKA,EAAE,GAAC,CACtEC,MAAI,CAACP,QAAQ,CAAC,CAACd,QAAQ,CAAE8B,cAAc,CAAC,CAAC,CAC7C,CAAC,CAAC,yBAAAN,QAAA,CAAAU,IAAA,MAAAf,OAAA,GACL,YAAAlB,OAAAkC,EAAA,SAAApB,OAAA,CAAAqB,KAAA,MAAAC,SAAA,UAAApC,MAAA,OAAAI,GAAA,UAAAC,KAAA,CAED,SAAAgC,OAAA,CAAS,KAAAC,MAAA,MACL,IAAAC,WAAA,CAA8B,IAAI,CAACzC,KAAK,CAAjCC,QAAQ,CAAAwC,WAAA,CAARxC,QAAQ,CAAEyC,SAAS,CAAAD,WAAA,CAATC,SAAS,CAE1B,GAAIA,SAAS,CAAE,CACX,mBAAOtD,IAAA,MAAAuD,QAAA,CAAG,YAAU,EAAI,CAC5B,CAEA,GAAM,CAAAC,WAAW,CAAG3C,QAAQ,CAAC4C,GAAG,CAAC,SAAAC,OAAO,CAAI,CACxC,mBAAOxD,KAAA,OAAAqD,QAAA,eACHvD,IAAA,OAAI2D,KAAK,CAAE,CAACC,UAAU,CAAE,QAAQ,CAAE,CAAAL,QAAA,CAAEG,OAAO,CAACG,IAAI,EAAM,cACtD7D,IAAA,OAAAuD,QAAA,CAAKG,OAAO,CAACI,WAAW,EAAM,cAC9B9D,IAAA,OAAAuD,QAAA,cACIrD,KAAA,CAACR,WAAW,EAAA6D,QAAA,eACRvD,IAAA,CAACP,MAAM,EAACsE,IAAI,CAAC,IAAI,CAACC,KAAK,CAAC,SAAS,CAACC,GAAG,CAAEnE,IAAK,CAACoE,EAAE,CAAE,YAAY,CAAGR,OAAO,CAACzB,EAAG,CAAAsB,QAAA,CAAC,MAAI,EAAS,cACzFvD,IAAA,CAACP,MAAM,EAACsE,IAAI,CAAC,IAAI,CAACC,KAAK,CAAC,QAAQ,CAACG,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAf,MAAI,CAACtC,MAAM,CAAC4C,OAAO,CAACzB,EAAE,CAAC,EAAC,CAAAsB,QAAA,CAAC,QAAM,EAAS,GAC9E,EACb,GAROG,OAAO,CAACzB,EAAE,CASrB,CACT,CAAC,CAAC,CAEF,mBACI/B,KAAA,QAAAqD,QAAA,eACIvD,IAAA,CAACH,SAAS,IAAE,cACZK,KAAA,CAACP,SAAS,EAACyE,KAAK,MAAAb,QAAA,eACZvD,IAAA,QAAKqE,SAAS,CAAC,aAAa,CAAAd,QAAA,cACxBvD,IAAA,CAACP,MAAM,EAACuE,KAAK,CAAC,SAAS,CAACC,GAAG,CAAEnE,IAAK,CAACoE,EAAE,CAAC,eAAe,CAAAX,QAAA,CAAC,iBAAe,EAAS,EAC5E,cACNvD,IAAA,OAAAuD,QAAA,CAAI,UAAQ,EAAK,cACjBrD,KAAA,CAACN,KAAK,EAACyE,SAAS,CAAC,MAAM,CAAAd,QAAA,eACnBvD,IAAA,UAAAuD,QAAA,cACArD,KAAA,OAAAqD,QAAA,eACIvD,IAAA,OAAIsE,KAAK,CAAC,KAAK,CAAAf,QAAA,CAAC,MAAI,EAAK,cACzBvD,IAAA,OAAIsE,KAAK,CAAC,KAAK,CAAAf,QAAA,CAAC,aAAW,EAAK,cAChCvD,IAAA,OAAIsE,KAAK,CAAC,KAAK,CAAAf,QAAA,CAAC,SAAO,EAAK,GAC3B,EACG,cACRvD,IAAA,UAAAuD,QAAA,CACCC,WAAW,EACJ,GACJ,GACA,GACV,CAEd,CAAC,WAAArD,WAAA,GAtEqBX,SAAS,EAwEnC,cAAe,CAAAW,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}